{"level":"info","message":"Novo usuário registrado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"errors":[{"instance":{"created_at":"2025-06-06T00:52:52.273Z","email":"turing@laurem.com.br","id":"c470f871-954e-489c-b0e0-472d17c2ed58","name":"Alan Turing","password_hash":"$2b$10$qKSxi1kA3a4bQV0lKDtAWu/VMPRT0RmfgcXnvOqw5kLYJqDkfjLuC","role":"client","updated_at":"2025-06-06T00:52:52.273Z"},"message":"Validation isIn on role failed","origin":"FUNCTION","original":{"validatorArgs":[["therapist","patient"]],"validatorName":"isIn"},"path":"role","type":"Validation error","validatorArgs":[["therapist","patient"]],"validatorKey":"isIn","validatorName":"isIn","value":"client"}],"level":"error","name":"SequelizeValidationError"}
{"level":"info","message":"Novo usuário registrado: turing@laurem.com.br"}
{"level":"info","message":"Usuário logado: turing@laurem.com.br"}
{"level":"info","message":"Usuário logado: turing@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: turing@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Novo usuário registrado: joao@example.com"}
{"level":"info","message":"Usuário logado: joao@example.com"}
{"errors":[{"instance":{"created_at":"2025-06-07T21:37:43.157Z","email":"gg@mail.com","id":"da89b9aa-ac1b-4530-8eac-e81b233c1293","password_hash":"$2b$10$zOra5pZb.XQ61Q2Yv9WdROt5ZQ/6o2Zp7pvl47daPYrlaYqJj0ZES","role":"therapist","updated_at":"2025-06-07T21:37:43.157Z"},"message":"User.name cannot be null","origin":"CORE","path":"name","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","name":"SequelizeValidationError"}
{"level":"info","message":"Novo usuário registrado: gg@mail.com"}
{"level":"info","message":"Usuário logado: gg@mail.com"}
{"level":"info","message":"Novo usuário registrado: contatogppe@gmail.com"}
{"level":"info","message":"Usuário logado: contatogppe@gmail.com"}
{"level":"info","message":"Novo usuário registrado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Novo usuário registrado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Novo usuário registrado: gg@mail.com"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"error","message":"Erro ao agendar sessão: Argument passed to findByPk is invalid: [object Promise]","stack":"Error: Argument passed to findByPk is invalid: [object Promise]\n    at Patient.findByPk (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1219:13)\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:28:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Argument passed to findByPk is invalid: [object Promise]","stack":"Error: Argument passed to findByPk is invalid: [object Promise]\n    at Patient.findByPk (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1219:13)\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:29:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"error","message":"Erro ao agendar sessão: Argument passed to findByPk is invalid: [object SequelizeInstance:Patient]","stack":"Error: Argument passed to findByPk is invalid: [object SequelizeInstance:Patient]\n    at Patient.findByPk (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1219:13)\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:32:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Cannot access 'Appointment' before initialization","stack":"ReferenceError: Cannot access 'Appointment' before initialization\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:41:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Cannot read properties of undefined (reading 'findOne')","stack":"TypeError: Cannot read properties of undefined (reading 'findOne')\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:41:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Cannot read properties of undefined (reading 'findOne')","stack":"TypeError: Cannot read properties of undefined (reading 'findOne')\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:40:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Cannot read properties of undefined (reading 'findOne')","stack":"TypeError: Cannot read properties of undefined (reading 'findOne')\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:42:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: Cannot read properties of undefined (reading 'findOne')","stack":"TypeError: Cannot read properties of undefined (reading 'findOne')\n    at exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:42:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"expiredAt":"2025-06-09T19:02:57.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError"}
{"expiredAt":"2025-06-09T19:02:57.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"[96365e58-e948-4bf5-b0cb-53fbe32d9038] consulta destruída"}
{"level":"info","message":"[1b36b6c5-d874-4eb9-a08a-ef86d4d750bb] consulta destruída"}
{"level":"info","message":"[6917193a-288f-4dbe-b6c2-f29ea890ecca] consulta destruída"}
{"level":"info","message":"[6fd42ea4-545e-4346-a1af-146dca27ffd8] consulta destruída"}
{"expiredAt":"2025-06-09T18:14:16.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError"}
{"expiredAt":"2025-06-09T18:14:16.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"expiredAt":"2025-06-09T21:45:20.000Z","level":"error","message":"jwt expired","name":"TokenExpiredError"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: fgbhdassd@fndj.com"}
{"level":"info","message":"Novo usuário registrado: teste@mail.com"}
{"level":"info","message":"Usuário logado: teste@mail.com"}
{"level":"info","message":"Usuário logado: teste@mail.com"}
{"level":"info","message":"Usuário logado: teste@mail.com"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Novo usuário registrado: roberval@mail.com"}
{"level":"info","message":"Usuário logado: roberval@mail.com"}
{"level":"info","message":"Novo usuário registrado: thelma@mail.com"}
{"level":"info","message":"Novo usuário registrado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"info","message":"Usuário logado: liszt@laurem.com.br"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:143:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:143:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:145:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:145:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:134:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:134:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:136:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:136:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Novo usuário registrado: thelma@mail.com"}
{"level":"info","message":"Usuário logado: thelma@mail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Novo usuário registrado: gp@mail.com"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: thelma@mail.com"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: thelma@mail.com"}
{"level":"info","message":"Usuário logado: thelma@mail.com"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: gp@mail.com"}
{"level":"info","message":"Usuário logado: thelma@mail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: role is not defined","stack":"ReferenceError: role is not defined\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:132:5)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:137:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Erro ao agendar sessão: User is associated to Appointment using an alias. You've included an alias (therapist), but it does not match the alias(es) defined in your association (User).","name":"SequelizeEagerLoadingError","stack":"SequelizeEagerLoadingError: User is associated to Appointment using an alias. You've included an alias (therapist), but it does not match the alias(es) defined in your association (User).\n    at Appointment._getIncludedAssociation (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:574:15)\n    at Appointment._validateIncludedElement (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:417:39)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Appointment.findOne (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1240:12)\n    at async Appointment.findByPk (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1221:12)\n    at async exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:51:28)"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"error","message":"Erro ao criar diário de emoções: title is not defined","stack":"ReferenceError: title is not defined\n    at exports.createEmotion (/home/paivs/Dev/Liszt/backend/controllers/journalController.js:111:7)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao criar diário de emoções: title is not defined","stack":"ReferenceError: title is not defined\n    at exports.createEmotion (/home/paivs/Dev/Liszt/backend/controllers/journalController.js:111:7)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"[63130e8c-81ab-4441-9719-589ce6bd8684] consulta destruída"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: gustavo.paiva.gp1@gmail.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"level":"info","message":"[c6760099-d63a-4199-b3fb-58183f37ab27] consulta destruída"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"fields":null,"index":"appointment_patient_id_fkey","level":"error","message":"Erro ao agendar sessão: insert or update on table \"appointment\" violates foreign key constraint \"appointment_patient_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"appointment_patient_id_fkey","detail":"Key (patient_id)=(21d6b315-377f-42e5-82fc-186c1c6e5e7e) is not present in table \"patient\".","file":"ri_triggers.c","length":312,"line":"2596","name":"error","parameters":["ba3fefa6-49fb-46f3-b78b-2835beac0be0","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:46:04.902 +00:00","2025-07-10 03:46:04.902 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","table":"appointment"},"parameters":["ba3fefa6-49fb-46f3-b78b-2835beac0be0","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:46:04.902 +00:00","2025-07-10 03:46:04.902 +00:00"],"parent":{"code":"23503","constraint":"appointment_patient_id_fkey","detail":"Key (patient_id)=(21d6b315-377f-42e5-82fc-186c1c6e5e7e) is not present in table \"patient\".","file":"ri_triggers.c","length":312,"line":"2596","name":"error","parameters":["ba3fefa6-49fb-46f3-b78b-2835beac0be0","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:46:04.902 +00:00","2025-07-10 03:46:04.902 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","table":"appointment"},"sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","stack":"Error\n    at Query.run (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async model.save (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:2490:35)\n    at async Appointment.create (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:42:32)","table":"appointment"}
{"fields":null,"index":"appointment_patient_id_fkey","level":"error","message":"Erro ao agendar sessão: insert or update on table \"appointment\" violates foreign key constraint \"appointment_patient_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"appointment_patient_id_fkey","detail":"Key (patient_id)=(21d6b315-377f-42e5-82fc-186c1c6e5e7e) is not present in table \"patient\".","file":"ri_triggers.c","length":312,"line":"2596","name":"error","parameters":["4472be20-4e17-4b50-b91f-ed816ed9194f","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:48:26.230 +00:00","2025-07-10 03:48:26.230 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","table":"appointment"},"parameters":["4472be20-4e17-4b50-b91f-ed816ed9194f","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:48:26.230 +00:00","2025-07-10 03:48:26.230 +00:00"],"parent":{"code":"23503","constraint":"appointment_patient_id_fkey","detail":"Key (patient_id)=(21d6b315-377f-42e5-82fc-186c1c6e5e7e) is not present in table \"patient\".","file":"ri_triggers.c","length":312,"line":"2596","name":"error","parameters":["4472be20-4e17-4b50-b91f-ed816ed9194f","f21e6f6b-9cdf-4db4-ae2f-ed4af8d1f89d","21d6b315-377f-42e5-82fc-186c1c6e5e7e","2025-07-17 14:00:00.000 +00:00","2025-07-10 03:48:26.230 +00:00","2025-07-10 03:48:26.230 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","table":"appointment"},"sql":"INSERT INTO \"appointment\" (\"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"therapist_id\",\"patient_id\",\"scheduled_time\",\"created_at\",\"updated_at\";","stack":"Error\n    at Query.run (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async model.save (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:2490:35)\n    at async Appointment.create (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async exports.create (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:42:32)","table":"appointment"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Novo usuário registrado: gogo@boy.com"}
{"level":"info","message":"Usuário logado: gogo@boy.com"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"info","message":"Paciente registrado com sucesso: 2a552c0e-cbee-4e04-8e2e-33db702620a8"}
{"level":"info","message":"Novo usuário registrado: roberval@mail.com"}
{"level":"info","message":"Usuário logado: roberval@mail.com"}
{"errors":[{"instance":{"address":"1","cpf":"1","created_at":"2025-07-11T00:51:59.528Z","email":"roberval@mail.com","emergency_contact_name":"1","emergency_contact_phone":"1","id":"f1537650-a4e0-4751-ab4a-33102b212b16","name":"Roberval Nunes","phone":"1","updated_at":"2025-07-10T21:52:39.283Z","user_id":"abc90784-88c5-482b-86e1-a3e875e8b28e"},"message":"cpf must be unique","origin":"DB","path":"cpf","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"1"}],"fields":{"cpf":"1"},"level":"error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:52:39.283 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"parent":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:52:39.283 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7"}
{"errors":[{"instance":{"address":"1","cpf":"1","created_at":"2025-07-11T00:51:59.528Z","email":"roberval@mail.com","emergency_contact_name":"1","emergency_contact_phone":"1","id":"f1537650-a4e0-4751-ab4a-33102b212b16","name":"Roberval Nunes","phone":"1","updated_at":"2025-07-10T21:53:29.605Z","user_id":"abc90784-88c5-482b-86e1-a3e875e8b28e"},"message":"cpf must be unique","origin":"DB","path":"cpf","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"1"}],"fields":{"cpf":"1"},"level":"error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:53:29.605 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"parent":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:53:29.605 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7"}
{"errors":[{"instance":{"address":"1","cpf":"1","created_at":"2025-07-11T00:51:59.528Z","email":"roberval@mail.com","emergency_contact_name":"1","emergency_contact_phone":"1","id":"f1537650-a4e0-4751-ab4a-33102b212b16","name":"Roberval Nunes","phone":"1","updated_at":"2025-07-10T21:53:42.284Z","user_id":"abc90784-88c5-482b-86e1-a3e875e8b28e"},"message":"cpf must be unique","origin":"DB","path":"cpf","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"1"}],"fields":{"cpf":"1"},"level":"error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:53:42.284 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"parent":{"code":"23505","constraint":"patient_cpf_key","detail":"Key (cpf)=(1) already exists.","file":"nbtinsert.c","length":193,"line":"664","name":"error","parameters":["1","1","1","1","1","2025-07-10 21:53:42.284 +00:00","f1537650-a4e0-4751-ab4a-33102b212b16"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7","table":"patient"},"sql":"UPDATE \"patient\" SET \"cpf\"=$1,\"phone\"=$2,\"emergency_contact_name\"=$3,\"emergency_contact_phone\"=$4,\"address\"=$5,\"updated_at\"=$6 WHERE \"id\" = $7"}
{"level":"info","message":"Paciente registrado com sucesso: f1537650-a4e0-4751-ab4a-33102b212b16"}
{"level":"info","message":"Novo usuário registrado: teste@mail.com"}
{"level":"info","message":"Usuário logado: teste@mail.com"}
{"level":"info","message":"Paciente registrado com sucesso: 9bdc1ca7-9b95-41d2-9f6e-301b3936fa87"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"[72993136-4180-4db2-8390-e18419178ba4] consulta destruída"}
{"level":"info","message":"Novo usuário registrado: ju@mail.com"}
{"level":"info","message":"Usuário logado: ju@mail.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: lucas@paciente.com"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"error","message":"Erro ao buscar sessões do usuário: WHERE parameter \"patient_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"patient_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Appointment.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.getAllByUser (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:196:22)"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"info","message":"Usuário logado: admin@laurem.com.br"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"error","message":"Erro ao buscar configurações de agendamento do terapeuta: Therapist is not defined","stack":"ReferenceError: Therapist is not defined\n    at exports.getAppointmentSettingsByTherapist (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:329:23)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar configurações de agendamento do terapeuta: Therapist is not defined","stack":"ReferenceError: Therapist is not defined\n    at exports.getAppointmentSettingsByTherapist (/home/paivs/Dev/Liszt/backend/controllers/appointmentController.js:329:23)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/paivs/Dev/Liszt/backend/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Erro ao buscar configurações de agendamento do terapeuta: WHERE parameter \"user_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"user_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Therapist.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Therapist.findOne (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1240:12)"}
{"level":"error","message":"Erro ao buscar configurações de agendamento do terapeuta: WHERE parameter \"user_id\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"user_id\" has invalid \"undefined\" value\n    at PostgresQueryGenerator.whereItemQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at PostgresQueryGenerator.whereItemsQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at PostgresQueryGenerator.getWhereConditions (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2078:19)\n    at PostgresQueryGenerator.selectQuery (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:991:28)\n    at PostgresQueryInterface.select (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at Therapist.findAll (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Therapist.findOne (/home/paivs/Dev/Liszt/backend/node_modules/sequelize/lib/model.js:1240:12)"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
{"level":"info","message":"Usuário logado: camila@terapia.com"}
